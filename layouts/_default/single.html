{{- define "title" -}}
{{ .Title }} | {{ .Site.Title }}
{{- end -}}
{{- define "main" -}}
{{- $redFilter := images.Colorize 4 70 100 -}}
{{- if .Params.hero -}}
{{- with resources.Get "js/hero_scrolling.js" | minify -}}
<script src="{{ .RelPermalink }}" async></script>
{{- end -}}
<div id="hero-image-container">
    {{- with .Resources.Get .Params.hero -}}
    {{- with .Fill "1920x1080 jpg" -}}
    <img id="hero-image" src="{{ .RelPermalink }}">
    {{- with . | images.Filter $redFilter -}}
    <img id="hero-image-red" src="{{ .RelPermalink }}">
    {{- end -}}
    {{- end -}}
    {{- end -}}
</div>
{{- end -}}
<div id="main">
    <div id="hero-window">
        <header id="content-title">
            {{- with .Params.year -}}
            <p class="content-title-text content-title-text-year"><span class="content-title-span">({{ . }})</span></p>
            {{- end -}}
            <h1 class="content-title-text">
                {{- with .Params.titleFormat -}}
                {{- range . -}}
                <span class="content-title-span">{{ . }}</span><br>
                {{- end -}}
                {{- end -}}
            </h1>
        </header>
    </div>
    <div id="content-background">
        <div id="content">
            {{ .Content }}
        </div>
    </div>
</div>
{{- end -}}